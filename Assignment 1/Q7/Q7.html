<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Transaction Simulator</title>
    <link rel="stylesheet" href="Q7.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="stars"></div>
        <div class="twinkling"></div>
    </div>

    <!-- Custom Cursor -->
    <div class="cursor"></div>
    <div class="cursor-follower"></div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-database"></i>
                <span>QuantumTX</span>
            </div>
            <div class="theme-switch-wrapper">
                <label class="theme-switch" for="checkbox">
                    <input type="checkbox" id="checkbox" />
                    <div class="slider round">
                        <div class="sun-moon">
                            <i class="fas fa-sun"></i>
                            <i class="fas fa-moon"></i>
                        </div>
                    </div>
                </label>
            </div>
        </header>

        <!-- Main Navigation -->
        <nav class="main-nav">
            <div class="nav-item active" data-tab="states">
                <i class="fas fa-sitemap"></i>
                <span>Transaction States</span>
            </div>
            <div class="nav-item" data-tab="acid">
                <i class="fas fa-atom"></i>
                <span>ACID Properties</span>
            </div>
            <div class="nav-item" data-tab="dirty-read">
                <i class="fas fa-exclamation-triangle"></i>
                <span>Dirty Read</span>
            </div>
            <div class="nav-item" data-tab="privileges">
                <i class="fas fa-user-shield"></i>
                <span>Privileges</span>
            </div>
        </nav>

        <!-- Content Sections -->
        <main class="main-content">
            <!-- Transaction States Section -->
            <section id="states" class="content-section active">
                <div class="section-header">
                    <h2>Transaction State Management</h2>
                    <p>Visualize and interact with transaction lifecycle states</p>
                </div>
                
                <div class="state-machine">
                    <div class="state active-state" data-state="active">
                        <div class="state-icon">
                            <i class="fas fa-play"></i>
                        </div>
                        <h3>Active</h3>
                        <p>Transaction is executing operations</p>
                    </div>
                    
                    <div class="state-connector"></div>
                    
                    <div class="state" data-state="partially-committed">
                        <div class="state-icon">
                            <i class="fas fa-pause"></i>
                        </div>
                        <h3>Partially Committed</h3>
                        <p>Final operation executed</p>
                    </div>
                    
                    <div class="state-connector"></div>
                    
                    <div class="state" data-state="committed">
                        <div class="state-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <h3>Committed</h3>
                        <p>Transaction successfully completed</p>
                    </div>
                    
                    <div class="failure-branch">
                        <div class="state" data-state="failed">
                            <div class="state-icon">
                                <i class="fas fa-times"></i>
                            </div>
                            <h3>Failed</h3>
                            <p>Transaction cannot proceed</p>
                        </div>
                        
                        <div class="state-connector"></div>
                        
                        <div class="state" data-state="aborted">
                            <div class="state-icon">
                                <i class="fas fa-undo"></i>
                            </div>
                            <h3>Aborted</h3>
                            <p>Transaction rolled back</p>
                        </div>
                    </div>
                </div>

                <div class="transaction-controls">
                    <button class="btn btn-primary" id="beginTransaction">
                        <i class="fas fa-play"></i> Begin Transaction
                    </button>
                    <button class="btn btn-success" id="commitTransaction" disabled>
                        <i class="fas fa-check"></i> Commit
                    </button>
                    <button class="btn btn-danger" id="rollbackTransaction" disabled>
                        <i class="fas fa-undo"></i> Rollback
                    </button>
                    <button class="btn btn-warning" id="simulateFailure">
                        <i class="fas fa-bug"></i> Simulate Failure
                    </button>
                </div>

                <div class="transaction-log">
                    <h4>Transaction Log</h4>
                    <div class="log-entries" id="logEntries">
                        <div class="log-entry">
                            <span class="timestamp" id="currentTime"></span>
                            <span class="message">System Ready - No active transaction</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ACID Properties Section -->
            <section id="acid" class="content-section">
                <div class="section-header">
                    <h2>ACID Properties Demonstration</h2>
                    <p>Understanding the core principles of transaction management</p>
                </div>

                <div class="acid-grid">
                    <div class="acid-card" data-property="atomicity">
                        <div class="acid-icon">
                            <i class="fas fa-atom"></i>
                        </div>
                        <h3>Atomicity</h3>
                        <p>All or nothing - transactions execute completely or not at all</p>
                        <button class="btn-demo">Show Demo</button>
                        <div class="demo-content">
                            <div class="bank-transfer-demo">
                                <div class="account" id="accountA">
                                    <h4>Account A</h4>
                                    <div class="balance">$1000</div>
                                </div>
                                <div class="transfer-arrow">
                                    <i class="fas fa-exchange-alt"></i>
                                </div>
                                <div class="account" id="accountB">
                                    <h4>Account B</h4>
                                    <div class="balance">$500</div>
                                </div>
                            </div>
                            <button class="btn-transfer" data-amount="200">Transfer $200</button>
                            <button class="btn-transfer-fail">Simulate Failure</button>
                        </div>
                    </div>

                    <div class="acid-card" data-property="consistency">
                        <div class="acid-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h3>Consistency</h3>
                        <p>Database remains in consistent state before and after transaction</p>
                        <button class="btn-demo">Show Demo</button>
                        <div class="demo-content">
                            <div class="constraint-demo">
                                <h4>Balance Constraint: â‰¥ $0</h4>
                                <div class="account-constraint">
                                    <div class="balance-display">$300</div>
                                    <button class="btn-withdraw" data-amount="400">Withdraw $400</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="acid-card" data-property="isolation">
                        <div class="acid-icon">
                            <i class="fas fa-user-lock"></i>
                        </div>
                        <h3>Isolation</h3>
                        <p>Concurrent transactions don't interfere with each other</p>
                        <button class="btn-demo">Show Demo</button>
                        <div class="demo-content">
                            <div class="isolation-demo">
                                <div class="transaction" id="tx1">
                                    <h4>Transaction 1</h4>
                                    <div class="tx-status">READ balance: $1000</div>
                                </div>
                                <div class="transaction" id="tx2">
                                    <h4>Transaction 2</h4>
                                    <div class="tx-status">READ balance: $1000</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="acid-card" data-property="durability">
                        <div class="acid-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Durability</h3>
                        <p>Committed transactions persist despite system failures</p>
                        <button class="btn-demo">Show Demo</button>
                        <div class="demo-content">
                            <div class="durability-demo">
                                <div class="commit-status">
                                    <div class="status-indicator"></div>
                                    <span>Transaction Committed</span>
                                </div>
                                <button class="btn-crash">Simulate System Crash</button>
                                <button class="btn-recover">Recover Data</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dirty Read Section -->
            <section id="dirty-read" class="content-section">
                <div class="section-header">
                    <h2>Dirty Read Scenario Simulation</h2>
                    <p>Demonstrating read uncommitted isolation level issues</p>
                </div>

                <div class="dirty-read-container">
                    <div class="transactions-panel">
                        <div class="transaction-panel" id="txPanel1">
                            <h3>Transaction T1</h3>
                            <div class="tx-operations">
                                <button class="tx-btn" data-tx="1" data-op="begin">BEGIN</button>
                                <button class="tx-btn" data-tx="1" data-op="update">UPDATE balance = 500</button>
                                <button class="tx-btn" data-tx="1" data-op="rollback">ROLLBACK</button>
                            </div>
                            <div class="tx-log" id="txLog1"></div>
                        </div>

                        <div class="shared-data">
                            <h3>Shared Data</h3>
                            <div class="data-item">
                                <label>Account Balance:</label>
                                <span id="sharedBalance">1000</span>
                            </div>
                            <div class="data-item">
                                <label>Status:</label>
                                <span id="dataStatus">Stable</span>
                            </div>
                        </div>

                        <div class="transaction-panel" id="txPanel2">
                            <h3>Transaction T2</h3>
                            <div class="tx-operations">
                                <button class="tx-btn" data-tx="2" data-op="begin">BEGIN</button>
                                <button class="tx-btn" data-tx="2" data-op="read">READ balance</button>
                                <button class="tx-btn" data-tx="2" data-op="commit">COMMIT</button>
                            </div>
                            <div class="tx-log" id="txLog2"></div>
                        </div>
                    </div>

                    <div class="explanation-panel">
                        <h4>What is a Dirty Read?</h4>
                        <p>A dirty read occurs when a transaction reads data that has been modified by another transaction that has not yet been committed.</p>
                        <div class="scenario-steps">
                            <div class="step" data-step="1">
                                <span>T1 updates balance to 500 (uncommitted)</span>
                            </div>
                            <div class="step" data-step="2">
                                <span>T2 reads uncommitted balance of 500</span>
                            </div>
                            <div class="step" data-step="3">
                                <span>T1 rolls back changes</span>
                            </div>
                            <div class="step" data-step="4">
                                <span>T2 has inconsistent data (dirty read)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Privileges Section -->
            <section id="privileges" class="content-section">
                <div class="section-header">
                    <h2>Database Privileges Management</h2>
                    <p>GRANT and REVOKE operations demonstration</p>
                </div>

                <div class="privileges-container">
                    <div class="users-panel">
                        <h3>Users & Roles</h3>
                        <div class="user-list">
                            <div class="user-card" data-user="admin">
                                <div class="user-avatar">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <div class="user-info">
                                    <h4>Administrator</h4>
                                    <span class="user-role">Super User</span>
                                </div>
                            </div>
                            <div class="user-card active" data-user="alice">
                                <div class="user-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="user-info">
                                    <h4>Alice</h4>
                                    <span class="user-role">Database User</span>
                                </div>
                            </div>
                            <div class="user-card" data-user="bob">
                                <div class="user-avatar">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="user-info">
                                    <h4>Bob</h4>
                                    <span class="user-role">Database User</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="privileges-panel">
                        <h3>Table Privileges</h3>
                        <div class="table-privileges">
                            <div class="table-card">
                                <h4>accounts</h4>
                                <div class="privileges-list">
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="SELECT" checked>
                                        <span>SELECT</span>
                                    </label>
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="INSERT">
                                        <span>INSERT</span>
                                    </label>
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="UPDATE" checked>
                                        <span>UPDATE</span>
                                    </label>
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="DELETE">
                                        <span>DELETE</span>
                                    </label>
                                </div>
                            </div>
                            <div class="table-card">
                                <h4>transactions</h4>
                                <div class="privileges-list">
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="SELECT" checked>
                                        <span>SELECT</span>
                                    </label>
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="INSERT">
                                        <span>INSERT</span>
                                    </label>
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="UPDATE">
                                        <span>UPDATE</span>
                                    </label>
                                    <label class="privilege-item">
                                        <input type="checkbox" data-priv="DELETE">
                                        <span>DELETE</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="sql-commands">
                            <div class="sql-input">
                                <h4>SQL Command</h4>
                                <code id="sqlCommand">GRANT SELECT ON accounts TO alice;</code>
                            </div>
                            <div class="command-buttons">
                                <button class="btn-grant" data-action="grant">
                                    <i class="fas fa-key"></i> GRANT
                                </button>
                                <button class="btn-revoke" data-action="revoke">
                                    <i class="fas fa-lock"></i> REVOKE
                                </button>
                                <button class="btn-execute" data-action="execute">
                                    <i class="fas fa-play"></i> Execute
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="access-panel">
                        <h3>Access Test</h3>
                        <div class="access-test">
                            <div class="test-query">
                                <code>SELECT * FROM accounts;</code>
                                <button class="btn-test" data-query="select">Test Query</button>
                            </div>
                            <div class="test-result">
                                <div class="result-indicator success">
                                    <i class="fas fa-check"></i>
                                    <span>Access Granted</span>
                                </div>
                                <div class="result-indicator error">
                                    <i class="fas fa-times"></i>
                                    <span>Access Denied</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="Q7.js"></script>
</body>
</html>